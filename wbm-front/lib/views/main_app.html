<!--
  Copyright (c) 2015, <your name>. All rights reserved. Use of this source code
  is governed by a BSD-style license that can be found in the LICENSE file.
-->

<!-- import polymer-element's definition -->
<link rel="import" href="../../../packages/polymer/polymer.html">
<link rel="import" href="../../../packages/core_elements/core_animated_pages.html">
<link rel="import" href="../../../packages/core_elements/core_icon_button.html">
<link rel="import" href="../../../packages/core_elements/core_header_panel.html">
<link rel="import" href="../../../packages/core_elements/core_toolbar.html">
<link rel="import" href="../../../packages/core_elements/core_transition.html">
<link rel="import" href="../../../packages/paper_elements/paper_button.html">

<link rel="import" href="login_page.html">
<link rel="import" href="user_page.html">

<polymer-element name="main-app">
  <template>
    <style>
      :host {
        display: block;
        width: 100%;
        height: 100%;
      }

      core-header-panel {
        height: 100%;
        overflow: auto;
        -webkit-overflow-scrolling: touch;
      }

      core-toolbar {
        background: #7F7F7F;
        color: beige;
      }

      .container {
        width: 80%;
        margin: 50px auto;
      }

      .header {
        width: 100%;
      }

      .headerCompte {
          font-size: 0.8em;
      }

      @media (min-width: 481px) {
        .container {
          width: 400px;
        }
      }
    </style>

    <core-header-panel>
      <core-toolbar>
        <div class="header" horizontal layout>
          <div flex>Who Blocks Me ?</div>
          <div class="headerCompte" hidden?="{{mainModel.user == null}}">{{mainModel.user.nom}} {{mainModel.user.prenom}} <core-icon-button icon="settings-power" on-click="{{logout}}"></core-icon-button></div>
        </div>
      </core-toolbar>
      <div class="container" center>
        <core-animated-pages selected="{{uiModel.mainViewIdx}}" transitions="zoom">
          <login-page></login-page>
          <user-page></user-page>
        </core-animated-pages>
      </div>
    </core-header-panel>

  </template>
  <script type="application/dart" src="main_app.dart"></script>
</polymer-element>
